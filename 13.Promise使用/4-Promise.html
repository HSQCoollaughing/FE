<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
</html>
<script>
    function cb() {
        console.log('2.这是你想要执行的代码');
    }
    
    function fn(cb) {
        console.log('1.这里执行一大堆代码');

        return new Promise(function (resolve, reject) {
            if (typeof cb == 'function') {
                resolve(cb);
            } else {
                reject('TypeError' + cb + '不是一个函数');
            }
        });
    }

    fn(cb).then(function (cb) {
        cb();
    });
    
    fn(123).then(function (err) {
        console.log(err);
    });


    /*
    * Promise对象有三种状态
    *   pending: 等待中
    *   resolved: 已完成,得到想要的结果,继续向下执行
    *   rejected: 已拒绝,可以得到结果,但不是想要的
    * */

    new Promise(function (resolve, reject) {
       if (true) resolve();
       if (false) reject();
    });
    /*
    * then方法有两个参数,第一个函数接收resolved状态的执行,第二个函数接收rejected状态的执行
    * */
</script>